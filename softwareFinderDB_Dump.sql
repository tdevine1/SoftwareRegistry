-- MySQL Script generated by MySQL Workbench
-- Sun Apr 10 19:47:04 2016
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema softwareFinder
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `softwareFinder` ;

-- -----------------------------------------------------
-- Schema softwareFinder
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `softwareFinder` DEFAULT CHARACTER SET big5 ;
USE `softwareFinder` ;

-- -----------------------------------------------------
-- Table `softwareFinder`.`Software`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `softwareFinder`.`Software` ;

CREATE TABLE IF NOT EXISTS `softwareFinder`.`Software` (
  `id_software` INT NOT NULL,
  `software_name` VARCHAR(45) NULL,
  PRIMARY KEY (`id_software`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `softwareFinder`.`Location`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `softwareFinder`.`Location` ;

CREATE TABLE IF NOT EXISTS `softwareFinder`.`Location` (
  `id_location` INT NOT NULL,
  `building` VARCHAR(45) NULL,
  `room` VARCHAR(45) NULL,
  PRIMARY KEY (`id_location`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `softwareFinder`.`Requests`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `softwareFinder`.`Requests` ;

CREATE TABLE IF NOT EXISTS `softwareFinder`.`Requests` (
  `id_request` INT NOT NULL,
  `request_count` INT NULL,
  PRIMARY KEY (`id_request`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `softwareFinder`.`Located_in`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `softwareFinder`.`Located_in` ;

CREATE TABLE IF NOT EXISTS `softwareFinder`.`Located_in` (
  `soft_id` INT NOT NULL,
  `loc_id` INT NOT NULL,
  `req_id` INT NULL,
  PRIMARY KEY (`soft_id`, `loc_id`),
  INDEX `loc_id_idx` (`loc_id` ASC),
  INDEX `soft_id_idx` (`soft_id` ASC),
  INDEX `req_id_idx` (`req_id` ASC),
  CONSTRAINT `soft_id`
    FOREIGN KEY (`soft_id`)
    REFERENCES `softwareFinder`.`Software` (`id_software`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `loc_id`
    FOREIGN KEY (`loc_id`)
    REFERENCES `softwareFinder`.`Location` (`id_location`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `req_id`
    FOREIGN KEY (`req_id`)
    REFERENCES `softwareFinder`.`Requests` (`id_request`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `softwareFinder`.`Admin`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `softwareFinder`.`Admin` ;

CREATE TABLE IF NOT EXISTS `softwareFinder`.`Admin` (
  `id_admin` INT NOT NULL,
  `username` VARCHAR(45) NOT NULL,
  `password` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id_admin`))
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `softwareFinder`.`Software`
-- -----------------------------------------------------
START TRANSACTION;
USE `softwareFinder`;
INSERT INTO `softwareFinder`.`Software` (`id_software`, `software_name`) VALUES (1, 'Adobe Reader');
INSERT INTO `softwareFinder`.`Software` (`id_software`, `software_name`) VALUES (2, 'Visual Studio 2008');
INSERT INTO `softwareFinder`.`Software` (`id_software`, `software_name`) VALUES (3, 'AutoCad');
INSERT INTO `softwareFinder`.`Software` (`id_software`, `software_name`) VALUES (4, 'Microsoft Office 2007');
INSERT INTO `softwareFinder`.`Software` (`id_software`, `software_name`) VALUES (5, 'Microsoft Office 2010');

COMMIT;


-- -----------------------------------------------------
-- Data for table `softwareFinder`.`Location`
-- -----------------------------------------------------
START TRANSACTION;
USE `softwareFinder`;
INSERT INTO `softwareFinder`.`Location` (`id_location`, `building`, `room`) VALUES (1, 'Library', '1st floor');
INSERT INTO `softwareFinder`.`Location` (`id_location`, `building`, `room`) VALUES (2, 'Library', '2nd floor');
INSERT INTO `softwareFinder`.`Location` (`id_location`, `building`, `room`) VALUES (3, 'Engineering & Technology', '210');
INSERT INTO `softwareFinder`.`Location` (`id_location`, `building`, `room`) VALUES (4, 'Engineering & Technology', '208');
INSERT INTO `softwareFinder`.`Location` (`id_location`, `building`, `room`) VALUES (5, 'Falcon Center', 'Skylabs');

COMMIT;

-- -----------------------------------------------------
-- Data for table `softwareFinder`.`Requests`
-- -----------------------------------------------------
START TRANSACTION;
USE `softwareFinder`;
INSERT INTO `softwareFinder`.`Requests` (`id_request`, `request_count`) VALUES (1, 1);
INSERT INTO `softwareFinder`.`Requests` (`id_request`, `request_count`) VALUES (2, 3);
INSERT INTO `softwareFinder`.`Requests` (`id_request`, `request_count`) VALUES (3, 2);

COMMIT;


-- -----------------------------------------------------
-- Data for table `softwareFinder`.`Located_in`
-- -----------------------------------------------------
START TRANSACTION;
USE `softwareFinder`;
INSERT INTO `softwareFinder`.`Located_in` (`soft_id`, `loc_id`, `req_id`) VALUES (1, 1, 1);
INSERT INTO `softwareFinder`.`Located_in` (`soft_id`, `loc_id`, `req_id`) VALUES (1, 2, NULL);
INSERT INTO `softwareFinder`.`Located_in` (`soft_id`, `loc_id`, `req_id`) VALUES (2, 1, NULL);
INSERT INTO `softwareFinder`.`Located_in` (`soft_id`, `loc_id`, `req_id`) VALUES (2, 2, NULL);
INSERT INTO `softwareFinder`.`Located_in` (`soft_id`, `loc_id`, `req_id`) VALUES (3, 3, NULL);
INSERT INTO `softwareFinder`.`Located_in` (`soft_id`, `loc_id`, `req_id`) VALUES (3, 4, 2);
INSERT INTO `softwareFinder`.`Located_in` (`soft_id`, `loc_id`, `req_id`) VALUES (4, 1, NULL);
INSERT INTO `softwareFinder`.`Located_in` (`soft_id`, `loc_id`, `req_id`) VALUES (4, 2, 3);
INSERT INTO `softwareFinder`.`Located_in` (`soft_id`, `loc_id`, `req_id`) VALUES (5, 1, NULL);
INSERT INTO `softwareFinder`.`Located_in` (`soft_id`, `loc_id`, `req_id`) VALUES (5, 2, NULL);

COMMIT;

